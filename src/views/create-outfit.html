<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Outfit Designer</title>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" type="text/css" href="/css/index.css">
		<script src="/js/htmx.min.js"></script>
	</head>
	<body>
		{% include 'components/navbar.html' %}
		<main class="flex justify-center w-full pt-[53px] p-2">
			<section class="w-full max-w-3xl pt-4">
				<header class="flex flex-row justify-between items-center">
					<h2 class="text-base font-bold">Create outfit</h2>
				</header>
				<section class="mt-4">
					<form class="grid grid-cols-2 gap-3" hx-encoding="multipart/form-data">
						<section>
							<p class="col-start-1 col-end-2 flex flex-col">
								<label for="name-input" class="text-sm font-medium mb-1">Name</label>
								<input type="text" id="name-input" name="name" class="text-sm p-2 border border-zinc-400 rounded mb-2">
							</p>
							<p class="col-start-1 col-end-2 flex flex-col">
								<label for="season-input" class="text-sm font-medium mb-1">Season</label>
								<select class="text-sm p-2 border border-zinc-400 rounded mb-2 bg-white" name="season" id="season-input">
									<option value="summer">Summer</option>
									<option value="autumn">Autumn</option>
									<option value="winter">Winter</option>
									<option value="spring">Spring</option>
								</select>
							</p>
							{% include 'components/image-input.html' %}
						</section>
						<section class="grid grid-cols-2 gap-2 flex-col w-full col-start-2 col-end-3 row-start-1 row-end-5" id="clothes-list">
							<section class="flex flex-row justify-center items-center border border-dashed border-zinc-400 rounded w-full col-start-1 col-end-3 p-4 text-sm my-1 font-medium max-h-32 h-full cursor-pointer" id="add-clothes" onclick="toggleOutfitDialog()">
								<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4 mr-1">
									<path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
								</svg>
								Add Clothes
							</section>
						</section>
						<button class="w-full p-2 bg-zinc-950 text-white font-medium text-sm rounded hover:bg-zinc-800 mt-2 col-start-1 col-end-2" hx-post="/outfits/new">Submit</button>
					</form>
				</section>
			</section>
			<section class="flex justify-center items-center w-full h-screen fixed top-0 left-0 bg-zinc-950/50 hidden" id="clothes-dialog">
				<section class="flex flex-col p-4 bg-white rounded w-full max-w-3xl max-h-[80%]">
					<button class="ml-auto close" onclick="toggleOutfitDialog()">
						<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="size-5">
							<path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
						</svg>
					</button>
					<h2 class="text-xl font-medium">Select Clothes</h2>	
					<section class="grid grid-cols-3 auto-rows-max gap-2 mt-2 overflow-scroll">
						{% for clothing_item in closet %}
							<section class="flex flex-col p-3 rounded border relative overflow-hidden after:w-full after:h-full hover:after:bg-zinc-950/40 after:absolute after:top-0 after:left-0 after:flex after:justify-center after:items-center after:cursor-pointer" id={{ clothing_item['_id'] }}>
								<img src="{{ clothing_item['image'] }}" alt="" class="w-full rounded mb-2">	
								<header class="flex flex-row justify-between items-center">
									<a href="/closet/{{ clothing_item['_id'] }}" class="text-base font-bold">{{ clothing_item['name'].capitalize() }}</a>
								</header>
								<span class="text-sm"><span class="font-medium">Brand</span>: {{ clothing_item['brand'].capitalize() }}</span>
								<span class="text-sm"><span class="font-medium">Type</span>: {{ clothing_item['type'].capitalize() }}</span>
								<span class="text-sm"><span class="font-medium">Colors</span>: {{ clothing_item['colors'].capitalize() }}</span>
								<section class="absolute left-0 top-0 w-full h-full bg-green-600/75 flex flex-col justify-center items-center text-white hidden">
									<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
										<path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
									</svg>

									<p>Item selected</p>
								</section>
							</section>	
						{% endfor %}
					</section>
					<button class="w-full p-2 bg-zinc-950 text-white font-medium text-sm rounded hover:bg-zinc-800 mt-2" onclick="saveOutfitClothes(event)">
						Save
					</button>
				</section>
			</section>
		</main>
	</body>
	<script src="/js/create-outfit.js"></script>
</html>
